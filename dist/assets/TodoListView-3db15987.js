import{_ as y,r as v,o as d,c as a,w,v as b,u as i,a as l,k,e as x,p as I,f as L,l as $,F as S,b as D,d as j,t as f,g as m,m as V,j as T}from"./index-85a56c2e.js";const C=_=>(I("data-v-12c71cb0"),_=_(),L(),_),N=C(()=>l("label",{for:"things"},"Choses à faire :",-1)),F={key:0,type:"submit"},M={key:1,disabled:"",class:"error-message"},O={__name:"TodoForm",emits:["add"],setup(_,{emit:t}){let o=v(""),r=v(!1);const g=t,e=function(p){return p.length<2?(r.value=!0,!1):(r.value=!1,!0)},u=function(p){e(p)&&(g("add",o.value),o.value="",r.value=!1)};return(p,c)=>(d(),a("form",{onSubmit:c[2]||(c[2]=x(s=>u(i(o)),["prevent"]))},[N,w(l("input",{type:"text",name:"things",id:"things","onUpdate:modelValue":c[0]||(c[0]=s=>k(o)?o.value=s:o=s),placeholder:"Saisissez ici",onKeyup:c[1]||(c[1]=s=>e(i(o)))},null,544),[[b,i(o)]]),i(r)?(d(),a("button",M,"Minimun 2 caractères")):(d(),a("button",F,"Ajouter"))],32))}},B=y(O,[["__scopeId","data-v-12c71cb0"]]);const J={id:"delete"},K=["onClick"],A={id:"thing"},E={key:0},U=["onClick"],R={key:1},q=["onUpdate:modelValue","onKeypress"],z=["onClick"],X={key:1,class:"edit"},G={__name:"TodoList",props:{thingsToDo:{type:Array,required:!0}},emits:["delete-thing","edit-thing"],setup(_,{emit:t}){const o=t,r=_,{thingsToDo:g}=$(r);let e=v({edit:!1,id:""});const u=function(s){o("delete-thing",s)},p=function(s){e.value={edit:!0,id:"edit"+s.id}},c=function(s){o("edit-thing",s),e.value={edit:!1,id:""}};return(s,W)=>(d(),a("div",null,[l("ul",null,[(d(!0),a(S,null,D(i(g),n=>(d(),a("li",{key:n.id},[l("div",J,[l("button",{id:"delete-btn",onClick:h=>u(n)},"X",8,K)]),l("div",A,[i(e).edit===!1||i(e).edit===!0&&i(e).id!=="edit"+n.id?(d(),a("div",E,[j(f(n.thing)+" ",1),l("span",{class:"edit",onClick:h=>p(n)}," Editer ",8,U)])):m("",!0),i(e).edit===!0&&i(e).id==="edit"+n.id?(d(),a("div",R,[w(l("input",{id:"edit-Input",type:"text","onUpdate:modelValue":h=>n.thing=h,onKeypress:V(h=>c(n),["enter"])},null,40,q),[[b,n.thing]]),n.thing.length>1?(d(),a("span",{key:0,class:"edit",onClick:h=>c(n)},"Sauvegarder",8,z)):(d(),a("span",X," Minimum 2 caractères"))])):m("",!0)])]))),128))])]))}},H=y(G,[["__scopeId","data-v-bbb037f9"]]);const P=l("h1",null,"Todo list",-1),Q={class:"section"},Z={__name:"TodoListView",setup(_){let t=v([]);window.localStorage.getItem("TodoList-vuejs-practice")&&(t.value=JSON.parse(window.localStorage.getItem("TodoList-vuejs-practice")));const o=function(e){e.length>1&&t.value.push({thing:e,id:Date.now()}),window.localStorage.setItem("TodoList-vuejs-practice",JSON.stringify(t.value))},r=function(e){t.value=t.value.filter(u=>u.id!==e.id),window.localStorage.setItem("TodoList-vuejs-practice",JSON.stringify(t.value)),t.value.length===0&&window.localStorage.getItem("TodoList-vuejs-practice")&&window.localStorage.removeItem("TodoList-vuejs-practice")},g=function(e){let u=t.value.indexOf(e);t.value.splice(u,1,e),window.localStorage.setItem("TodoList-vuejs-practice",JSON.stringify(t.value))};return(e,u)=>(d(),a(S,null,[P,l("div",Q,[T(B,{onAdd:o}),l("h3",null,f(i(t).length)+" chose"+f(i(t).length>1?"s":"")+" à faire",1),T(H,{thingsToDo:i(t),onDeleteThing:r,onEditThing:g},null,8,["thingsToDo"])])],64))}};export{Z as default};
